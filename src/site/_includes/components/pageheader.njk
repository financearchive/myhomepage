<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- SEO 메타태그 -->
<meta name="robots" content="index, follow">
<meta name="author" content="머니다이어리">

<!-- 자동 메타 디스크립션 생성 -->
{% set autoDesc = content | autoMetaDescription %}
{% if description %}
  <meta name="description" content="{{ description }}">
{% elif autoDesc %}
  <meta name="description" content="{{ autoDesc }}">
{% endif %}

<!-- Open Graph / 소셜 미디어 메타태그 -->
<meta property="og:type" content="article">
<meta property="og:title" content="{% if title %}{{ title }} - 머니다이어리{% else %}{{ page.fileSlug }} - 머니다이어리{% endif %}">
{% if description %}
  <meta property="og:description" content="{{ description }}">
{% elif autoDesc %}
  <meta property="og:description" content="{{ autoDesc }}">
{% endif %}
<meta property="og:url" content="{{ meta.baseUrl }}{{ page.url }}">
<meta property="og:site_name" content="머니다이어리">

<!-- 트위터 카드 -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{% if title %}{{ title }} - 머니다이어리{% else %}{{ page.fileSlug }} - 머니다이어리{% endif %}">
{% if description %}
  <meta name="twitter:description" content="{{ description }}">
{% elif autoDesc %}
  <meta name="twitter:description" content="{{ autoDesc }}">
{% endif %}

<!-- 정규 URL -->
<link rel="canonical" href="{{ meta.baseUrl }}{{ page.url }}">

<!-- RSS 피드 -->
<link rel="alternate" type="application/rss+xml" title="머니다이어리" href="{{ meta.baseUrl }}/rss.xml">

<!-- 기존 스크립트들 -->
<script async type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
</script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js" integrity="sha512-hpZ5pDCF2bRCweL5WoA0/N1elet1KYL5mx3LP555Eg/0ZguaHawxNvEjF6O3rufAChs16HVNhEc6blF/rZoowQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-sv0slik/5O0JIPdLBCR2A3XDg/1U3WuDEheZfI/DI5n8Yqc3h5kjrnr46FGBNiUAJF7rE4LHKwQ/SoSLRKAxEA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

{%include "components/calloutScript.njk"%}

<script async src="https://fastly.jsdelivr.net/npm/force-graph@1.43.0/dist/force-graph.min.js"></script>

<script async src="https://fastly.jsdelivr.net/npm/@alpinejs/persist@3.11.1/dist/cdn.min.js"></script>
<script src="https://fastly.jsdelivr.net/npm/alpinejs@3.11.1/dist/cdn.min.js" async></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-okaidia.min.css" integrity="sha512-mIs9kKbaw6JZFfSuo+MovjU+Ntggfoj8RwAmJbVXQ5mkAX5LlgETQEweFPI18humSPHymTb5iikEOKWF7I8ncQ==" crossorigin="anonymous" referrerpolicy="no-referrer" async/>
<script src="https://fastly.jsdelivr.net/npm/whatwg-fetch@3.6.2/dist/fetch.umd.min.js" crossorigin="anonymous" referrerpolicy="no-referrer" async></script>

<link href="/styles/digital-garden-base.css" rel="stylesheet">
{%-if meta.themeStyle%}
    <link href="/styles/obsidian-base.css" rel="stylesheet">
    <link href="{{meta.themeStyle}}" rel="stylesheet">
{% else %}
    <link href="/styles/style.css" rel="stylesheet">
{%endif%}

<link href="/styles/custom-style.css" rel="stylesheet">
{%- for style in dynamics.styles -%}
<link href="{{style}}" rel="stylesheet">
{%- endfor -%}

{% if metatags %}
    {% for name, content in metatags %}
        <meta name="{{ name }}" content="{{ content }}">
    {% endfor %}
{% endif %}

{% if meta.styleSettingsCss %}
    <style>
        {{ meta.styleSettingsCss | safe }}
    </style>
{% endif %}
<style>
</style>
